{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from \"react\";\nexport const useHttp = () => {\n  _s();\n\n  const request = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const response = await fetch(url, {\n        method,\n        body,\n        headers\n      });\n\n      if (!response.ok) {\n        throw new Error(`Could not fetch ${url} status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (e) {\n      throw e;\n    }\n  }, []);\n  return {\n    request\n  };\n};\n\n_s(useHttp, \"CTV3bIj5C2DjZ3g8HSl+c66hf3s=\");","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/hooks/useHttp.js"],"names":["useCallback","useHttp","request","url","method","body","headers","response","fetch","ok","Error","status","data","json","e"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,OAAO,MAAMC,OAAO,GAAC,MAAI;AAAA;;AAGvB,QAAMC,OAAO,GAACF,WAAW,CAAC,gBAAMG,GAAN,EAA+E;AAAA,QAArEC,MAAqE,uEAA9D,KAA8D;AAAA,QAAxDC,IAAwD,uEAAnD,IAAmD;AAAA,QAA9CC,OAA8C,uEAAtC;AAAC,sBAAe;AAAhB,KAAsC;;AACvG,QAAG;AACD,YAAMC,QAAQ,GAAC,MAAMC,KAAK,CAACL,GAAD,EAAK;AAACC,QAAAA,MAAD;AAAQC,QAAAA,IAAR;AAAaC,QAAAA;AAAb,OAAL,CAA1B;;AACA,UAAI,CAACC,QAAQ,CAACE,EAAd,EAAiB;AACf,cAAM,IAAIC,KAAJ,CAAW,mBAAkBP,GAAI,YAAWI,QAAQ,CAACI,MAAO,EAA5D,CAAN;AACD;;AACD,YAAMC,IAAI,GAAC,MAAML,QAAQ,CAACM,IAAT,EAAjB;AACA,aAAOD,IAAP;AAGD,KATD,CASC,OAAME,CAAN,EAAQ;AACP,YAAMA,CAAN;AACD;AACF,GAbwB,EAavB,EAbuB,CAAzB;AAgBA,SAAM;AAACZ,IAAAA;AAAD,GAAN;AACD,CApBM;;GAAMD,O","sourcesContent":["import { useCallback } from \"react\";\r\n\r\nexport const useHttp=()=>{\r\n\r\n \r\n  const request=useCallback(async(url,method='GET',body=null,headers={'Content-Type':'application/json'})=>{\r\n    try{\r\n      const response=await fetch(url,{method,body,headers});\r\n      if (!response.ok){\r\n        throw new Error(`Could not fetch ${url} status: ${response.status}`)\r\n      }\r\n      const data=await response.json();\r\n      return data;\r\n\r\n\r\n    }catch(e){\r\n      throw e;\r\n    }\r\n  },[])\r\n\r\n\r\n  return{request}\r\n}"]},"metadata":{},"sourceType":"module"}