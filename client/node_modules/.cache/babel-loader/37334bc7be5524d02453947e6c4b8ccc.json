{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createSlice, createAsyncThunk, current } from \"@reduxjs/toolkit\";\nimport useConversionServices from '../../services/ConversionApi';\nimport useMarvelServices from \"../../services/MarvelServices\";\nconst initialState = {\n  currency: '1',\n  convertCurrency: '',\n  inputVal: 'USD',\n  convertVal: 'RUB',\n  spinner: false,\n  result: false\n};\nexport const changeValue = _s(createAsyncThunk('value/changeValue', _s(async state => {\n  _s();\n\n  const {\n    getConvertValue\n  } = useConversionServices();\n  const response = getConvertValue(state);\n  return response;\n}, \"6AWbsKrk5RVEKP8PNf0dKzOqZAE=\", false, function () {\n  return [useConversionServices];\n})), \"6AWbsKrk5RVEKP8PNf0dKzOqZAE=\", false, function () {\n  return [useConversionServices];\n});\nexport const getCharacters = _s2(createAsyncThunk('value/getCharacters', _s2(async state => {\n  _s2();\n\n  const {\n    getAllCharacters\n  } = useMarvelServices();\n  const response = await getAllCharacters(state);\n  return response;\n}, \"KRaYSH5IW+/JLtUVyESpRfK//wI=\", false, function () {\n  return [useMarvelServices];\n})), \"KRaYSH5IW+/JLtUVyESpRfK//wI=\", false, function () {\n  return [useMarvelServices];\n});\nconst ValueSlice = createSlice({\n  name: 'value',\n  initialState,\n  reducers: {\n    changeInputValue: (state, action) => {\n      state.inputVal = action.payload;\n    },\n    changeConvertValue: (state, action) => {\n      state.convertVal = action.payload;\n    },\n    onUpdateLocal: (state, action) => {\n      state.currency = action.payload;\n      state.result = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(changeValue.pending, (state, action) => {\n      state.spinner = true;\n    }).addCase(changeValue.fulfilled, (state, action) => {\n      console.log(state.convertVal);\n      state.convertCurrency = action.payload.data[state.convertVal].value * state.currency;\n      state.spinner = false;\n      state.result = true;\n    }).addCase(changeValue.rejected, (state, action) => {\n      console.log('error');\n    });\n  }\n});\nconst {\n  actions,\n  reducer\n} = ValueSlice;\nexport default reducer;\nexport const {\n  changeConvertValue,\n  changeInputValue,\n  onUpdateLocal\n} = actions;","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/components/exchangeValue/ValueSlice.js"],"names":["createSlice","createAsyncThunk","current","useConversionServices","useMarvelServices","initialState","currency","convertCurrency","inputVal","convertVal","spinner","result","changeValue","state","getConvertValue","response","getCharacters","getAllCharacters","ValueSlice","name","reducers","changeInputValue","action","payload","changeConvertValue","onUpdateLocal","extraReducers","builder","addCase","pending","fulfilled","console","log","data","value","rejected","actions","reducer"],"mappings":"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","sourcesContent":["import {createSlice,createAsyncThunk,current} from \"@reduxjs/toolkit\"\r\nimport useConversionServices from '../../services/ConversionApi'\r\nimport useMarvelServices from \"../../services/MarvelServices\"\r\n\r\nconst initialState = {\r\n  currency:'1',\r\n  convertCurrency:'',\r\n  inputVal:'USD',\r\n  convertVal:'RUB',\r\n  spinner:false,\r\n  result:false\r\n}\r\nexport const changeValue=createAsyncThunk(\r\n  'value/changeValue',\r\n  async(state)=>{\r\n    const {getConvertValue}=useConversionServices();\r\n    const response=getConvertValue(state)\r\n    return response\r\n  }\r\n\r\n)\r\nexport const getCharacters=createAsyncThunk(\r\n  'value/getCharacters',\r\n  async(state)=>{\r\n    const { getAllCharacters }=useMarvelServices();\r\n    const response=await getAllCharacters(state)\r\n    return response;\r\n  }\r\n)\r\nconst ValueSlice=createSlice({\r\n  name:'value',\r\n  initialState,\r\n  reducers: {\r\n      changeInputValue:(state,action)=>{\r\n        state.inputVal=action.payload\r\n        \r\n      },\r\n      changeConvertValue:(state,action)=>{\r\n        state.convertVal=action.payload;\r\n        \r\n      },\r\n      onUpdateLocal:(state,action)=>{\r\n        state.currency=action.payload;\r\n        state.result=false;\r\n      }\r\n  },\r\n\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(changeValue.pending,(state,action)=>{\r\n        state.spinner=true\r\n      })\r\n      .addCase(changeValue.fulfilled,(state,action)=>{\r\n        console.log(state.convertVal)\r\n        state.convertCurrency=action.payload.data[state.convertVal].value*state.currency\r\n        state.spinner=false\r\n        state.result=true\r\n        \r\n      \r\n      })\r\n      .addCase(changeValue.rejected,(state,action)=>{\r\n        console.log('error')\r\n      })\r\n       \r\n\r\n      \r\n}\r\n})\r\n\r\nconst {actions, reducer} = ValueSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n  changeConvertValue,\r\n  changeInputValue,\r\n  onUpdateLocal\r\n} = actions;"]},"metadata":{},"sourceType":"module"}