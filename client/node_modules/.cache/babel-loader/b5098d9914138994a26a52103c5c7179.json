{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHttp } from '../hooks/useHttp';\n\nconst useWeatherServices = () => {\n  _s();\n\n  const _apiBase = 'https://api.weatherapi.com/v1/';\n  const _apikey = 'key= 1ff90ee44b664ef785f22329220501 ';\n  const {\n    request\n  } = useHttp();\n\n  const getWeatherByCity = async city => {\n    const res = await request(`${_apiBase}current.json?${_apikey} &q=${city}&aqi=no`);\n    console.log(res);\n    return _transformWeather(res);\n  };\n\n  const getWeatherByDays = async city => {\n    const res = await request(`${_apiBase}forecast.json?${_apikey}&q=${city}&days=8&aqi=no&alerts=no`);\n    return _transformWeatherByDays(res);\n  };\n\n  const getAutoCompleteCityName = async city => {\n    const res = await request(`${_apiBase}search.json?${_apikey}&q=${city}`);\n    return res;\n  };\n\n  const _transformWeather = res => {\n    return {\n      name: res.location.name,\n      country: res.location.country,\n      localTime: res.location.localtime,\n      tempC: res.current.temp_c,\n      tempF: res.current.temp_f,\n      condInfo: res.current.condition.text,\n      condImg: res.current.condition.icon\n    };\n  };\n\n  const _transformWeatherByDays = res => {\n    return {\n      name: res.location.name,\n      country: res.location.country,\n      localTime: res.location.localtime,\n      lat: res.location.lat,\n      lon: res.location.lon,\n      day: res.forecast.forecastday[0].date,\n      day1: res.forecast.forecastday[1].date,\n      day2: res.forecast.forecastday[2].date,\n      dayMaxTempC: res.forecast.forecastday[0].day.maxtemp_c,\n      day1MaxTempC: res.forecast.forecastday[1].day.maxtemp_c,\n      day2MaxTempC: res.forecast.forecastday[2].day.maxtemp_c,\n      sunrise1: res.forecast.forecastday[0].astro.sunrise,\n      sunset1: res.forecast.forecastday[0].astro.sunset,\n      dayMinTempC: res.forecast.forecastday[0].day.mintemp_c,\n      day1MinTempC: res.forecast.forecastday[1].day.mintemp_c,\n      day2MinTempC: res.forecast.forecastday[2].day.mintemp_c\n    };\n  };\n\n  return {\n    getWeatherByCity,\n    getWeatherByDays,\n    getAutoCompleteCityName\n  };\n};\n\n_s(useWeatherServices, \"Cd6rTTFIaDkCOxqWEjU2WwhZI/U=\", false, function () {\n  return [useHttp];\n});\n\nexport default useWeatherServices;","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/services/WeatherApi.js"],"names":["useHttp","useWeatherServices","_apiBase","_apikey","request","getWeatherByCity","city","res","console","log","_transformWeather","getWeatherByDays","_transformWeatherByDays","getAutoCompleteCityName","name","location","country","localTime","localtime","tempC","current","temp_c","tempF","temp_f","condInfo","condition","text","condImg","icon","lat","lon","day","forecast","forecastday","date","day1","day2","dayMaxTempC","maxtemp_c","day1MaxTempC","day2MaxTempC","sunrise1","astro","sunrise","sunset1","sunset","dayMinTempC","mintemp_c","day1MinTempC","day2MinTempC"],"mappings":"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","sourcesContent":["import {useHttp} from '../hooks/useHttp'\r\n\r\nconst useWeatherServices=()=>{\r\n  const _apiBase = 'https://api.weatherapi.com/v1/';\r\n  const  _apikey = 'key= 1ff90ee44b664ef785f22329220501 ';\r\n  const {request}=useHttp()\r\n  \r\n  const  getWeatherByCity= async(city)=>{\r\n    const res = await request(`${_apiBase}current.json?${_apikey} &q=${city}&aqi=no`)\r\n    console.log(res)\r\n    return _transformWeather(res);\r\n  }\r\n  const getWeatherByDays=async(city)=>{\r\n    const res=await request(`${_apiBase}forecast.json?${_apikey}&q=${city}&days=8&aqi=no&alerts=no`)\r\n    return _transformWeatherByDays(res);\r\n  }\r\n  const getAutoCompleteCityName=async(city)=>{\r\n    const res=await request(`${_apiBase}search.json?${_apikey}&q=${city}`)\r\n    return res;\r\n  }\r\n  const _transformWeather=(res)=>{\r\n    return{\r\n      name:res.location.name,\r\n      country:res.location.country,\r\n      localTime:res.location.localtime,\r\n      tempC:res.current.temp_c,\r\n      tempF:res.current.temp_f,\r\n      condInfo:res.current.condition.text,\r\n      condImg:res.current.condition.icon\r\n    }\r\n  }\r\n  const _transformWeatherByDays=(res)=>{\r\n    return{\r\n      name:res.location.name,\r\n      country:res.location.country,\r\n      localTime:res.location.localtime,\r\n      \r\n      lat: res.location.lat,\r\n      lon:res.location.lon,\r\n\r\n      day:res.forecast.forecastday[0].date,\r\n      day1:res.forecast.forecastday[1].date,\r\n      day2:res.forecast.forecastday[2].date,\r\n      dayMaxTempC:res.forecast.forecastday[0].day.maxtemp_c,\r\n      day1MaxTempC:res.forecast.forecastday[1].day.maxtemp_c,\r\n      day2MaxTempC: res.forecast.forecastday[2].day.maxtemp_c,\r\n      \r\n      sunrise1:res.forecast.forecastday[0].astro.sunrise,\r\n\r\n\r\n      sunset1: res.forecast.forecastday[0].astro.sunset,\r\n      \r\n      dayMinTempC:res.forecast.forecastday[0].day.mintemp_c,\r\n      day1MinTempC:res.forecast.forecastday[1].day.mintemp_c,\r\n      day2MinTempC:res.forecast.forecastday[2].day.mintemp_c,\r\n\r\n    }\r\n  }\r\n  return {getWeatherByCity,getWeatherByDays,getAutoCompleteCityName};\r\n}\r\nexport default useWeatherServices;"]},"metadata":{},"sourceType":"module"}