{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { createSlice, createAsyncThunk, current } from \"@reduxjs/toolkit\";\nimport useMarvelServices from \"../../services/MarvelServices\";\nconst initialState = {\n  data: [],\n  newItemLoading: false,\n  charEnded: false,\n  selectedId: 0,\n  firstUpd: true,\n  rndChar: {},\n  infoChar: {},\n  loading: false\n};\nexport const getData = _s(createAsyncThunk('char/getData', _s(async state => {\n  _s();\n\n  const {\n    getAllCharacters\n  } = useMarvelServices();\n  const response = await getAllCharacters(state);\n  return response;\n}, \"ibinA0o7PGIUE+uvC9S9Hem2yjg=\", false, function () {\n  return [useMarvelServices];\n})), \"ibinA0o7PGIUE+uvC9S9Hem2yjg=\", false, function () {\n  return [useMarvelServices];\n});\nexport const getCharacter = _s2(createAsyncThunk('char/getCharacter', _s2(async state => {\n  _s2();\n\n  const {\n    getCharacter\n  } = useMarvelServices();\n  const response = await getCharacter(state);\n  return response;\n}, \"Rszk9wiDot59QXRTko7wJbhXNR8=\", false, function () {\n  return [useMarvelServices];\n})), \"Rszk9wiDot59QXRTko7wJbhXNR8=\", false, function () {\n  return [useMarvelServices];\n});\nexport const getInfoCharacter = _s3(createAsyncThunk('char/getInfoCharacter', _s3(async state => {\n  _s3();\n\n  const {\n    getCharacter\n  } = useMarvelServices();\n  const response = await getCharacter(state);\n  return response;\n}, \"Rszk9wiDot59QXRTko7wJbhXNR8=\", false, function () {\n  return [useMarvelServices];\n})), \"Rszk9wiDot59QXRTko7wJbhXNR8=\", false, function () {\n  return [useMarvelServices];\n});\nconst CharSlice = createSlice({\n  name: 'char',\n  initialState,\n  reducers: {\n    focusOnItem: (state, action) => {\n      state.selectedId = action.payload;\n      console.log('FocusOnItem');\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getData.pending, (state, action) => {\n      state.newItemLoading = false;\n    }).addCase(getData.fulfilled, (state, action) => {\n      const ended = true;\n\n      if (action.payload < 9) {\n        ended = false;\n      }\n\n      state.data = [...state.data, ...action.payload];\n      state.newItemLoading = false;\n      state.firstUpd = false;\n      state.charEnded = ended;\n    }).addCase(getData.rejected, (state, action) => {\n      var _action$error;\n\n      console.log(action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.message);\n    }).addCase(getCharacter.fulfilled, (state, action) => {\n      state.rndChar = action.payload;\n    }).addCase(getInfoCharacter.pending, (state, action) => {\n      console.log('loading');\n    }).addCase(getInfoCharacter.fulfilled, (state, action) => {\n      state.infoChar = action.payload;\n      console.log(state.infoChar);\n    });\n  }\n});\nconst {\n  actions,\n  reducer\n} = CharSlice;\nexport default reducer;\nexport const {\n  focusOnItem\n} = actions;","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/components/charList/CharSlice.js"],"names":["createSlice","createAsyncThunk","current","useMarvelServices","initialState","data","newItemLoading","charEnded","selectedId","firstUpd","rndChar","infoChar","loading","getData","state","getAllCharacters","response","getCharacter","getInfoCharacter","CharSlice","name","reducers","focusOnItem","action","payload","console","log","extraReducers","builder","addCase","pending","fulfilled","ended","rejected","error","message","actions","reducer"],"mappings":"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","sourcesContent":["import {createSlice,createAsyncThunk,current} from \"@reduxjs/toolkit\"\r\nimport useMarvelServices from \"../../services/MarvelServices\"\r\n\r\nconst initialState = {\r\n  data:[],\r\n  newItemLoading:false,\r\n  charEnded:false,\r\n  selectedId:0,\r\n  firstUpd:true,\r\n  rndChar:{},\r\n  infoChar:{},\r\n  loading:false,\r\n  \r\n}\r\n\r\nexport const getData=createAsyncThunk(\r\n  'char/getData',\r\n  async(state)=>{\r\n    const {getAllCharacters}=useMarvelServices();\r\n    const response=await getAllCharacters(state)\r\n    return response;\r\n  }\r\n)\r\nexport const getCharacter=createAsyncThunk(\r\n  'char/getCharacter',\r\n  async(state)=>{\r\n    const {getCharacter}=useMarvelServices();\r\n    const response=await getCharacter(state)\r\n    return response;\r\n  }\r\n)\r\nexport const getInfoCharacter=createAsyncThunk(\r\n  'char/getInfoCharacter',\r\n  async(state)=>{\r\n    const {getCharacter}=useMarvelServices();\r\n    const response=await getCharacter(state)\r\n    return response;\r\n  }\r\n)\r\nconst CharSlice=createSlice({\r\n  name:'char',\r\n  initialState,\r\n  reducers: {\r\n      focusOnItem:(state,action)=>{\r\n        state.selectedId=action.payload\r\n        console.log('FocusOnItem')\r\n      }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getData.pending,(state,action)=>{     \r\n        state.newItemLoading=false\r\n      })\r\n      .addCase(getData.fulfilled,(state,action)=>{\r\n        const ended=true\r\n        if (action.payload<9){\r\n          ended=false\r\n        }\r\n        state.data=[...state.data,...action.payload]\r\n        state.newItemLoading=false\r\n        state.firstUpd=false;\r\n        state.charEnded=ended\r\n    \r\n      })\r\n      .addCase(getData.rejected,(state,action)=>{\r\n        console.log(action?.error?.message)\r\n      })\r\n      \r\n\r\n      .addCase(getCharacter.fulfilled,(state,action)=>{\r\n        state.rndChar=action.payload;\r\n      })\r\n\r\n      .addCase(getInfoCharacter.pending,(state,action)=>{\r\n        console.log('loading')\r\n      })\r\n      .addCase(getInfoCharacter.fulfilled,(state,action)=>{\r\n        state.infoChar=action.payload\r\n        console.log(state.infoChar)\r\n      })\r\n       \r\n}\r\n})\r\n\r\nconst {actions, reducer} = CharSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n  focusOnItem\r\n} = actions;"]},"metadata":{},"sourceType":"module"}