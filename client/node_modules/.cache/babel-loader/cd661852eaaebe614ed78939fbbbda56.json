{"ast":null,"code":"import { useHttp } from \"../hooks/useHttp\";\n\nconst useIpServices = () => {\n  const _apiBase = 'http://ipwhois.app/json/';\n\n  const request = async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const response = await fetch(url, {\n        method,\n        body,\n        headers\n      });\n\n      if (!response.ok) {\n        throw new Error(`Could not fetch ${url} status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (e) {\n      throw e;\n    }\n  };\n\n  const getUserIp = async () => {\n    const res = await request(`${_apiBase}`);\n    return res;\n  };\n\n  return {\n    getUserIp\n  };\n};\n\nexport default useIpServices;","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/services/IpApi.js"],"names":["useHttp","useIpServices","_apiBase","request","url","method","body","headers","response","fetch","ok","Error","status","data","json","e","getUserIp","res"],"mappings":"AAAA,SAASA,OAAT,QAAwB,kBAAxB;;AAEA,MAAMC,aAAa,GAAC,MAAI;AACtB,QAAMC,QAAQ,GAAC,0BAAf;;AAGA,QAAMC,OAAO,GAAE,gBAAMC,GAAN,EAA+E;AAAA,QAArEC,MAAqE,uEAA9D,KAA8D;AAAA,QAAxDC,IAAwD,uEAAnD,IAAmD;AAAA,QAA9CC,OAA8C,uEAAtC;AAAC,sBAAe;AAAhB,KAAsC;;AAC5F,QAAG;AACD,YAAMC,QAAQ,GAAC,MAAMC,KAAK,CAACL,GAAD,EAAK;AAACC,QAAAA,MAAD;AAAQC,QAAAA,IAAR;AAAaC,QAAAA;AAAb,OAAL,CAA1B;;AACA,UAAI,CAACC,QAAQ,CAACE,EAAd,EAAiB;AACf,cAAM,IAAIC,KAAJ,CAAW,mBAAkBP,GAAI,YAAWI,QAAQ,CAACI,MAAO,EAA5D,CAAN;AACD;;AACD,YAAMC,IAAI,GAAC,MAAML,QAAQ,CAACM,IAAT,EAAjB;AACA,aAAOD,IAAP;AAGD,KATD,CASC,OAAME,CAAN,EAAQ;AACP,YAAMA,CAAN;AACD;AACF,GAbD;;AAeA,QAAMC,SAAS,GAAC,YAAS;AACvB,UAAMC,GAAG,GAAE,MAAMd,OAAO,CAAE,GAAED,QAAS,EAAb,CAAxB;AACA,WAAOe,GAAP;AACD,GAHD;;AAMA,SAAO;AAACD,IAAAA;AAAD,GAAP;AAED,CA3BD;;AA4BA,eAAef,aAAf","sourcesContent":["import { useHttp } from \"../hooks/useHttp\";\r\n\r\nconst useIpServices=()=>{\r\n  const _apiBase='http://ipwhois.app/json/'\r\n \r\n\r\n  const request=(async(url,method='GET',body=null,headers={'Content-Type':'application/json'})=>{\r\n    try{\r\n      const response=await fetch(url,{method,body,headers});\r\n      if (!response.ok){\r\n        throw new Error(`Could not fetch ${url} status: ${response.status}`)\r\n      }\r\n      const data=await response.json();\r\n      return data;\r\n\r\n\r\n    }catch(e){\r\n      throw e;\r\n    }\r\n  })\r\n\r\n  const getUserIp=async()=>{\r\n    const res= await request(`${_apiBase}`)\r\n    return res\r\n  }\r\n  \r\n\r\n  return {getUserIp}\r\n  \r\n}\r\nexport default useIpServices;"]},"metadata":{},"sourceType":"module"}