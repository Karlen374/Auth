{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport useEdamamServices from \"../../services/Edamam\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nconst initialState = {\n  data: [],\n  loading: false,\n  favoriteData: []\n};\nexport const searchFood = _s(createAsyncThunk('food/searchFood', _s(async state => {\n  _s();\n\n  const {\n    getFoodData\n  } = useEdamamServices();\n  const response = await getFoodData(state);\n  return response;\n}, \"QbOIZX+NLwOB2HrbdbjBONNerIk=\", false, function () {\n  return [useEdamamServices];\n})), \"QbOIZX+NLwOB2HrbdbjBONNerIk=\", false, function () {\n  return [useEdamamServices];\n});\nconst FoodSlice = createSlice({\n  name: 'food',\n  initialState,\n  reducers: {\n    add: (state, action) => {\n      state.data = current(state.data).filter((item, id) => id !== action.payload);\n      state.allCities = current(state.allCities).filter((item, id) => id !== action.payload);\n      localStorage.setItem('data', state.allCities);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(searchFood.pending, (state, action) => {\n      state.loading = true;\n    }).addCase(searchFood.fulfilled, (state, action) => {\n      console.log(action.payload.hits);\n      state.data = action.payload.hits;\n      state.loading = false;\n    }).addCase(searchFood.rejected, () => {\n      console.log('error');\n    });\n  }\n});\nconst {\n  actions,\n  reducer\n} = FoodSlice;\nexport default reducer;\nexport const {} = actions;","map":{"version":3,"sources":["C:/Users/svary/OneDrive/Рабочий стол/Auth/client/src/components/FoodSearch/FoodSlice.js"],"names":["useEdamamServices","createSlice","createAsyncThunk","initialState","data","loading","favoriteData","searchFood","state","getFoodData","response","FoodSlice","name","reducers","add","action","current","filter","item","id","payload","allCities","localStorage","setItem","extraReducers","builder","addCase","pending","fulfilled","console","log","hits","rejected","actions","reducer"],"mappings":";;AAAA,OAAOA,iBAAP,MAA8B,uBAA9B;AACA,SAAQC,WAAR,EAAoBC,gBAApB,QAA2C,kBAA3C;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAC,EADc;AAEnBC,EAAAA,OAAO,EAAC,KAFW;AAGnBC,EAAAA,YAAY,EAAC;AAHM,CAArB;AAMA,OAAO,MAAMC,UAAU,MAACL,gBAAgB,CACtC,iBADsC,KAEtC,MAAMM,KAAN,IAAc;AAAA;;AACZ,QAAM;AAACC,IAAAA;AAAD,MAAcT,iBAAiB,EAArC;AACA,QAAMU,QAAQ,GAAC,MAAMD,WAAW,CAACD,KAAD,CAAhC;AACA,SAAOE,QAAP;AACD,CANqC;AAAA,UAGhBV,iBAHgB;AAAA,GAAjB;AAAA,UAGCA,iBAHD;AAAA,EAAhB;AAQP,MAAMW,SAAS,GAACV,WAAW,CAAC;AAC1BW,EAAAA,IAAI,EAAC,MADqB;AAE1BT,EAAAA,YAF0B;AAG1BU,EAAAA,QAAQ,EAAE;AACRC,IAAAA,GAAG,EAAE,CAACN,KAAD,EAAQO,MAAR,KAAmB;AACtBP,MAAAA,KAAK,CAACJ,IAAN,GAAWY,OAAO,CAACR,KAAK,CAACJ,IAAP,CAAP,CAAoBa,MAApB,CAA2B,CAACC,IAAD,EAAMC,EAAN,KAAYA,EAAE,KAAGJ,MAAM,CAACK,OAAnD,CAAX;AACAZ,MAAAA,KAAK,CAACa,SAAN,GAAgBL,OAAO,CAACR,KAAK,CAACa,SAAP,CAAP,CAAyBJ,MAAzB,CAAgC,CAACC,IAAD,EAAMC,EAAN,KAAYA,EAAE,KAAGJ,MAAM,CAACK,OAAxD,CAAhB;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4Bf,KAAK,CAACa,SAAlC;AACH;AALS,GAHgB;AAU1BG,EAAAA,aAAa,EAAEC,OAAD,IAAW;AACvBA,IAAAA,OAAO,CACJC,OADH,CACWnB,UAAU,CAACoB,OADtB,EAC8B,CAACnB,KAAD,EAAOO,MAAP,KAAgB;AAC1CP,MAAAA,KAAK,CAACH,OAAN,GAAc,IAAd;AACD,KAHH,EAIGqB,OAJH,CAIWnB,UAAU,CAACqB,SAJtB,EAIgC,CAACpB,KAAD,EAAOO,MAAP,KAAgB;AAC5Cc,MAAAA,OAAO,CAACC,GAAR,CAAYf,MAAM,CAACK,OAAP,CAAeW,IAA3B;AACAvB,MAAAA,KAAK,CAACJ,IAAN,GAAWW,MAAM,CAACK,OAAP,CAAeW,IAA1B;AACAvB,MAAAA,KAAK,CAACH,OAAN,GAAc,KAAd;AACD,KARH,EASGqB,OATH,CASWnB,UAAU,CAACyB,QATtB,EAS+B,MAAI;AAC/BH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,KAXH;AAYD;AAvByB,CAAD,CAA3B;AAyBA,MAAM;AAACG,EAAAA,OAAD;AAAUC,EAAAA;AAAV,IAAqBvB,SAA3B;AAEA,eAAeuB,OAAf;AAEA,OAAO,MAAM,KAETD,OAFG","sourcesContent":["import useEdamamServices from \"../../services/Edamam\";\r\nimport {createSlice,createAsyncThunk} from \"@reduxjs/toolkit\"\r\n\r\nconst initialState = {\r\n  data:[],\r\n  loading:false,\r\n  favoriteData:[]\r\n}\r\n\r\nexport const searchFood=createAsyncThunk(\r\n  'food/searchFood',\r\n  async(state)=>{\r\n    const {getFoodData}=useEdamamServices();\r\n    const response=await getFoodData(state)\r\n    return response\r\n  }\r\n)\r\nconst FoodSlice=createSlice({\r\n  name:'food',\r\n  initialState,\r\n  reducers: {\r\n    add: (state, action) => {\r\n      state.data=current(state.data).filter((item,id)=>(id!==action.payload))\r\n      state.allCities=current(state.allCities).filter((item,id)=>(id!==action.payload))\r\n      localStorage.setItem('data',state.allCities)\r\n  },\r\n  },\r\n  extraReducers:(builder)=>{\r\n    builder\r\n      .addCase(searchFood.pending,(state,action)=>{\r\n        state.loading=true;\r\n      })\r\n      .addCase(searchFood.fulfilled,(state,action)=>{\r\n        console.log(action.payload.hits)\r\n        state.data=action.payload.hits\r\n        state.loading=false;\r\n      })\r\n      .addCase(searchFood.rejected,()=>{\r\n        console.log('error')\r\n      })\r\n  }\r\n})\r\nconst {actions, reducer} = FoodSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n  \r\n} = actions;"]},"metadata":{},"sourceType":"module"}