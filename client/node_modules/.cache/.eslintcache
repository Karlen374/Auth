[{"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\index.js":"1","C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\components\\app\\App.js":"2","C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\components\\loginPanel\\LoginPanel.js":"3","C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\services\\AuthService.js":"4","C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\hooks\\http.hook.js":"5","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\index.js":"6","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\app\\App.js":"7","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\loginPanel\\LoginPanel.js":"8","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\services\\AuthService.js":"9","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\hooks\\http.hook.js":"10","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\loginPanel\\LoginSlice.js":"11","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\store\\index.js":"12"},{"size":215,"mtime":1645578296647,"results":"13","hashOfConfig":"14"},{"size":251,"mtime":1646786544867,"results":"15","hashOfConfig":"14"},{"size":2238,"mtime":1646786303257,"results":"16","hashOfConfig":"14"},{"size":467,"mtime":1646617032598,"results":"17","hashOfConfig":"14"},{"size":382,"mtime":1646786209977,"results":"18","hashOfConfig":"14"},{"size":350,"mtime":1647297067056,"results":"19","hashOfConfig":"20"},{"size":696,"mtime":1647431161677,"results":"21","hashOfConfig":"20"},{"size":1565,"mtime":1647433201992,"results":"22","hashOfConfig":"20"},{"size":467,"mtime":1647114257342,"results":"23","hashOfConfig":"20"},{"size":382,"mtime":1647114257338,"results":"24","hashOfConfig":"20"},{"size":2260,"mtime":1647431161682,"results":"25","hashOfConfig":"20"},{"size":534,"mtime":1647297067058,"results":"26","hashOfConfig":"20"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1amrr9",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"wsxydb",{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\index.js",[],[],["68","69"],"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\components\\app\\App.js",[],[],"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\components\\loginPanel\\LoginPanel.js",["70","71","72","73","74","75","76"],[],"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\services\\AuthService.js",[],[],"C:\\Users\\User\\Desktop\\React\\Авторизация\\Auth\\client\\src\\hooks\\http.hook.js",[],[],"C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\index.js",[],[],["77","78"],"C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\app\\App.js",["79","80"],[],"import './App.css';\r\nimport LoginPanel from '../loginPanel/LoginPanel';\r\nimport {useEffect,useState} from 'react'\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport {checkAuth} from '../loginPanel/LoginSlice'\r\n\r\nfunction App() {\r\n\r\n  const {auth,user} = useSelector(store => store.login);\r\n  const dispatch=useDispatch()\r\n\r\n  useEffect(()=>{\r\n    if(localStorage.getItem('token')){\r\n      dispatch(checkAuth())\r\n    }\r\n  },[])\r\n  \r\n  const content=auth ? ` Пользователь ${user.email} авторизован `:`АВТОРИЗУЙТЕСЬ`;\r\n  return (\r\n    <div className='App'>\r\n      <h1>{content} </h1>\r\n      <LoginPanel/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\loginPanel\\LoginPanel.js",["81","82"],[],"import Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './LoginPanel.css'\r\nimport { loginUser,registrationUser } from './LoginSlice';\r\n\r\nconst LoginPanel = () => {\r\n  const [email,setEmail]=useState('')\r\n  const [password, setPassword] = useState('')\r\n  const dispatch=useDispatch()\r\n \r\n  const  login=(email,password)=>{\r\n    const User = {\r\n      email,\r\n      password,\r\n    }\r\n    dispatch(loginUser(User))\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  const registration = async (email, password) => {\r\n    const User = {\r\n      email,\r\n      password,\r\n    }\r\n    dispatch(registrationUser(User))\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div class=\"text-field\">\r\n        <label class=\"text-field__label\">Email</label>\r\n        <input onChange={(e) => setEmail(e.target.value)} class=\"text-field__input\" type=\"email\"  placeholder=\"Email\" value={email}/>\r\n      </div>\r\n      \r\n      <div class=\"text-field\">\r\n          <label class=\"text-field__label\">Пароль</label>\r\n          <input onChange={(e) => setPassword(e.target.value)} class=\"text-field__input\" type=\"password\"  placeholder=\"*****\" value={email}/>\r\n      </div>\r\n    \r\n      <Button onClick={() => login(email, password)} variant=\"outline-success\">Login</Button>{' '}\r\n      <Button onClick={() => registration(email, password)} variant=\"outline-success\">Registration</Button>{' '}\r\n    </>\r\n  )\r\n}\r\nexport default LoginPanel;","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\services\\AuthService.js",[],[],"C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\hooks\\http.hook.js",[],[],"C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\components\\loginPanel\\LoginSlice.js",["83"],[],"import AuthService from '../../services/AuthService'\r\nimport axios from 'axios'\r\nimport {createSlice,createAsyncThunk} from \"@reduxjs/toolkit\"\r\n\r\nconst initialState = {\r\n  email:'',\r\n  password:'',\r\n  auth:false,\r\n  user:{}\r\n}\r\n\r\n\r\nexport const checkAuth = createAsyncThunk(\r\n  'heroes/checkAuth',\r\n  async () => {\r\n      const response= await axios.get(`http://localhost:5000/api/refresh`, { withCredentials: true })\r\n      return  response\r\n  }\r\n);\r\nconst LoginSlice=createSlice({\r\n  name:'login',\r\n  initialState,\r\n  reducers:{\r\n    loginUser:async(state,action)=>{\r\n      try {\r\n        const response = await AuthService.login(action.payload.email, action.payload.password);\r\n        localStorage.setItem('token', response.data.accessToken);\r\n        console.log('зашли')\r\n        state.auth=true;\r\n        state.user=response.data.user\r\n      }\r\n      catch (e) {\r\n        console.log(e.response?.data?.message);\r\n      }\r\n    },\r\n    registrationUser:async(state,action)=>{\r\n    try {\r\n      const response = await AuthService.registration(action.payload.email, action.payload.password);\r\n      localStorage.setItem('token', response.data.accessToken);\r\n      state.auth=true;\r\n      state.user=response.data.user\r\n    }\r\n    catch (e) {\r\n      console.log(e.response?.data?.message);\r\n    }\r\n  },\r\n  logout:async(state)=>{\r\n    try {\r\n      const response = await AuthService.logout();\r\n      localStorage.removeItem('token');\r\n      state.auth=false;\r\n      state.user={};\r\n    }\r\n    catch (e) {\r\n      console.log(e.response?.data?.message);\r\n    }\r\n  },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n        .addCase(checkAuth.fulfilled, (state, action) => {\r\n          // console.log(action)\r\n          localStorage.setItem('token', action.payload.data.accessToken);\r\n          console.log(`action.data.accessToken=${action.payload.data.accessToken}`)\r\n          state.auth=true;\r\n          state.user=action.payload.data.user \r\n        })\r\n        .addCase(checkAuth.rejected, (state,action) => {\r\n            console.log('error')\r\n        })\r\n        .addDefaultCase(() => {})\r\n}\r\n})\r\n\r\nconst {actions, reducer} = LoginSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const {\r\n   loginUser,\r\n   registrationUser,\r\n   logout,\r\n} = actions;","C:\\Users\\User\\Desktop\\Auth\\Auth\\client\\src\\store\\index.js",[],[],{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","severity":1,"message":"89","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":12},{"ruleId":"88","severity":1,"message":"92","line":2,"column":8,"nodeType":"90","messageId":"91","endLine":2,"endColumn":14},{"ruleId":"88","severity":1,"message":"93","line":10,"column":10,"nodeType":"90","messageId":"91","endLine":10,"endColumn":14},{"ruleId":"88","severity":1,"message":"94","line":11,"column":10,"nodeType":"90","messageId":"91","endLine":11,"endColumn":14},{"ruleId":"88","severity":1,"message":"95","line":41,"column":9,"nodeType":"90","messageId":"91","endLine":41,"endColumn":15},{"ruleId":"88","severity":1,"message":"96","line":43,"column":13,"nodeType":"90","messageId":"91","endLine":43,"endColumn":21},{"ruleId":"88","severity":1,"message":"97","line":52,"column":9,"nodeType":"90","messageId":"91","endLine":52,"endColumn":18},{"ruleId":"84","replacedBy":"98"},{"ruleId":"86","replacedBy":"99"},{"ruleId":"88","severity":1,"message":"100","line":3,"column":19,"nodeType":"90","messageId":"91","endLine":3,"endColumn":27},{"ruleId":"101","severity":1,"message":"102","line":16,"column":5,"nodeType":"103","endLine":16,"endColumn":7,"suggestions":"104"},{"ruleId":"88","severity":1,"message":"89","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":12},{"ruleId":"88","severity":1,"message":"105","line":4,"column":23,"nodeType":"90","messageId":"91","endLine":4,"endColumn":34},{"ruleId":"88","severity":1,"message":"96","line":49,"column":13,"nodeType":"90","messageId":"91","endLine":49,"endColumn":21},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"no-unused-vars","'Form' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'auth' is assigned a value but never used.","'user' is assigned a value but never used.","'logout' is assigned a value but never used.","'response' is assigned a value but never used.","'checkAuth' is assigned a value but never used.",["106"],["107"],"'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["108"],"'useSelector' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"109","fix":"110"},"Update the dependencies array to be: [dispatch]",{"range":"111","text":"112"},[436,438],"[dispatch]"]